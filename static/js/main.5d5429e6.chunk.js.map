{"version":3,"sources":["pages/About.js","components/Movie.js","components/Pagination.js","components/MySelect.js","components/MovieFilter.js","pages/Home.js","components/Navigation.js","components/Detail.js","App.js","index.js"],"names":["About","className","Movie","id","year","title","summary","poster","genres","to","pathname","state","onError","e","target","src","alt","map","genre","i","slice","Pagination","moviesPerPage","totalMovies","currentPage","paginate","pageNumbers","Math","ceil","push","p","onClick","MySelect","options","defaultValue","value","onChange","console","log","disabled","option","name","MovieFIlter","filter","setFilter","query","placeholder","sort","selectedSort","Home","React","useState","isLoading","setIsLoading","movies","setMovies","setCurrentPage","a","axios","get","data","useEffect","fetchData","indexOfLastMovie","indexOfFirstMovie","currentMovies","sortedMovies","useMemo","b","localeCompare","sortedAndSearchedMovies","movie","toLowerCase","includes","medium_cover_image","length","pageNumber","Navigation","fromLocation","Detail","props","locationState","location","undefined","history","App","routes","path","exact","component","route","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.5d5429e6.chunk.js","sourcesContent":["import React from \"react\";\r\nimport \"../styles/About.css\"\r\n\r\nconst About = () => {\r\n  return (\r\n    <div className=\"about__container\">О проекте: я сделал этот проект, потому что люблю фильмы</div>\r\n  )\r\n}\r\n\r\nexport default About;","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport {Link} from \"react-router-dom\";\r\nimport \"../styles//Movie.css\"\r\n\r\nconst Movie = ({id, year, title, summary, poster, genres}) => {\r\n\r\n  function addDefaultPicture(e) {\r\n    e.target.src = \"../default_poster.img\"\r\n  }\r\n\r\n  return (\r\n    <div className=\"movie\">\r\n      <Link to={{\r\n        pathname: `/movie/${id}`,\r\n        state: {\r\n          id,\r\n          year,\r\n          title,\r\n          summary,\r\n          poster, \r\n          genres\r\n        }\r\n      }}>\r\n      \r\n        <img onError={addDefaultPicture} src={poster} alt={title} title={title} />\r\n        <div  className=\"movie__column\">\r\n          <h3 className=\"movie__title\">{title}</h3>\r\n          <h5 className=\"movie__year\">{year}</h5>\r\n          <ul className=\"genres\">\r\n            {genres.map((genre, i) => {\r\n              return (\r\n                <li key={i} className=\"genres__genre\">\r\n                  {genre}\r\n                </li>\r\n              )\r\n            })}\r\n          </ul>\r\n          <p className=\"movie__summary\">{summary.slice(0, 140)}...</p>\r\n        </div>     \r\n      </Link>\r\n    </div>\r\n  )\r\n}\r\n\r\nMovie.propTypes = {\r\n  id: PropTypes.number.isRequired,\r\n  year: PropTypes.number.isRequired,\r\n  title: PropTypes.string.isRequired,\r\n  summary: PropTypes.string.isRequired,\r\n  poster: PropTypes.string.isRequired,\r\n  genres: PropTypes.arrayOf(PropTypes.string).isRequired\r\n}\r\n\r\nexport default Movie","import React from 'react'\r\nimport \"../styles/Pagination.css\"\r\n\r\nconst Pagination = ({moviesPerPage, totalMovies, currentPage, paginate}) => {\r\n  const pageNumbers = []\r\n\r\n  for (let i = 1; i <=Math.ceil(totalMovies / moviesPerPage); i++) {\r\n    pageNumbers.push(i)\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <nav>\r\n        <ul className='pagination'>\r\n          {pageNumbers.map(p => (\r\n            <li key={p} className='page__item'>\r\n              <button \r\n                onClick={() => paginate(p)} \r\n                className={\r\n                  currentPage === p \r\n                  ? 'page__active' : 'page__link'\r\n                } \r\n              >\r\n                {p}\r\n              </button>\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      </nav>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Pagination","import React from \"react\";\r\nimport \"../styles//MySelect.css\"\r\n\r\nconst MySelect = ({options, defaultValue, value, onChange}) => {\r\n  console.log(options)\r\n  return (\r\n    <select \r\n      className=\"mySelect\"\r\n      value={value}\r\n      onChange={e => onChange(e.target.value)}\r\n    >\r\n      <option disabled value=\"\">{defaultValue}</option>\r\n      {options.map(option => {\r\n        return (\r\n        <option key={option.value} value={option.value}>\r\n          {option.name}\r\n        </option>)\r\n      })}\r\n    </select>\r\n  )\r\n}\r\n\r\nexport default MySelect;","import React from \"react\";\r\nimport MySelect from \"../components/MySelect\";\r\nimport \"../styles/MovieFilter.css\"\r\n\r\nconst MovieFIlter = ({filter, setFilter}) => {\r\n\r\n  return (\r\n    <div className=\"movie__filter\">\r\n      <input\r\n        value={filter.query}\r\n        onChange={(e) => setFilter({...filter, query: e.target.value})}\r\n        placeholder=\"Поиск...\" \r\n      />\r\n      <MySelect \r\n        value={filter.sort}\r\n        onChange={selectedSort => setFilter({filter, sort: selectedSort})}\r\n        defaultValue=\"Сортировка\"\r\n        options={[\r\n          {value: \"title\", name: \"По названию\"},\r\n          {value: \"summary\", name: \"По описанию\"}\r\n        ]}\r\n      />  \r\n    </div>\r\n  )\r\n}\r\n\r\nexport default MovieFIlter","import React from \"react\";\r\nimport axios from \"axios\";\r\nimport Movie from \"../components/Movie\";\r\nimport Pagianation from \"../components/Pagination\"\r\nimport \"../styles//Home.css\";\r\nimport MovieFIlter from \"../components/MovieFilter\";\r\n\r\nconst Home = () => {\r\n  \r\n  const [isLoading, setIsLoading] = React.useState(true)\r\n  const [movies, setMovies] = React.useState([])\r\n  const [currentPage, setCurrentPage] = React.useState(1);\r\n  const [moviesPerPage] = React.useState(10);\r\n  const [filter, setFilter] = React.useState({sort: \"\", query: \"\"})\r\n\r\n  async function fetchData() {\r\n    const {\r\n      data:\r\n        {data: {movies}\r\n      }\r\n    } = await axios.get(\"https://yts.mx/api/v2/list_movies.json?limit=50\")\r\n    setIsLoading(false)\r\n    setMovies(movies)\r\n    console.log(movies)\r\n  }\r\n    \r\n  React.useEffect(() => {\r\n    fetchData()\r\n  }, [])\r\n\r\n  const indexOfLastMovie = currentPage * moviesPerPage;\r\n  const indexOfFirstMovie = indexOfLastMovie - moviesPerPage;\r\n  const currentMovies = movies.slice(indexOfFirstMovie, indexOfLastMovie);\r\n\r\n  const paginate = pageNumber => setCurrentPage(pageNumber);\r\n\r\n  const sortedMovies = React.useMemo(() => {\r\n    if (filter.sort) {\r\n      return [...currentMovies].sort((a, b) => a[filter.sort].localeCompare(b[filter.sort]))\r\n    }\r\n    else {\r\n      return currentMovies\r\n    }\r\n  }, [filter.sort, currentMovies])\r\n  \r\n\r\n  const sortedAndSearchedMovies = React.useMemo(() => {\r\n    return sortedMovies.filter(movie => movie.title.toLowerCase().includes(filter.query))\r\n  }, [filter.query, sortedMovies])\r\n\r\n  return (\r\n    <section className=\"container\">\r\n      {isLoading ? (\r\n        <div className=\"loader\">\r\n          <span className=\"loder__text\">Загрузка...</span>\r\n        </div>\r\n        ) : (\r\n          <div className=\"home__body\">\r\n            <MovieFIlter \r\n              filter={filter} \r\n              setFilter={setFilter}\r\n            />\r\n            <div className=\"movies\">\r\n              {sortedAndSearchedMovies.map(movie => {\r\n                return (\r\n                  <Movie \r\n                    key={movie.id}\r\n                    id={movie.id} \r\n                    year={movie.year} \r\n                    title={movie.title} \r\n                    summary={movie.summary} \r\n                    poster={movie.medium_cover_image} \r\n                    genres={movie.genres}\r\n                  />\r\n                )\r\n              })}\r\n            </div>\r\n          </div> \r\n        )\r\n      }\r\n      <Pagianation \r\n        moviesPerPage={moviesPerPage}\r\n        totalMovies={movies.length}\r\n        paginate={paginate}\r\n        currentPage={currentPage}\r\n      />\r\n    </section>\r\n  )\r\n}\r\n\r\nexport default Home;\r\n","import React from \"react\";\r\nimport {Link} from \"react-router-dom\";\r\nimport \"../styles//Navigation.css\"\r\n\r\nconst Navigation = () => {\r\n  return (\r\n    <div className=\"nav\">\r\n      <Link to=\"/\">Главная</Link>\r\n      <Link \r\n        to={{\r\n          pathname:\"/about\",\r\n          state: {\r\n            fromLocation: true,\r\n          },\r\n        }}\r\n      >\r\n        О проекте\r\n      </Link>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Navigation","import React from \"react\";\r\nimport \"../styles/Detail.css\";\r\n\r\nconst Detail = (props) => {\r\n\r\n  let locationState = props.location.state\r\n\r\n  React.useEffect(() => {\r\n    if (locationState === undefined) {\r\n      props.history.push('/')\r\n    }\r\n  })\r\n\r\n  function addDefaultPicture(e) {\r\n    e.target.src = \"../default_poster.img\"\r\n  }\r\n \r\n  if (locationState) {\r\n      return (\r\n        <div className=\"detail__block\">\r\n          <div className=\"detail__poster\"> \r\n            <img onError={addDefaultPicture} src={locationState.poster} alt={locationState.title} title={locationState.title} />\r\n          </div>\r\n          <div className=\"detail__info\">\r\n            <h1 className=\"detail__title\">{locationState.title}</h1>\r\n            <h4 className=\"detail__year\">{locationState.year}</h4>\r\n            <ul className=\"detail__genres\">\r\n              {locationState.genres.map((genre, i) => {\r\n                return (\r\n                  <li key={i} className=\"detail__genres__genre\">\r\n                    {genre}\r\n                  </li>\r\n                )\r\n              })}\r\n            </ul>\r\n            <p className=\"movie__summary\">{locationState.summary}</p>\r\n          </div>\r\n        </div>\r\n      )\r\n  } else {\r\n    return null\r\n  }\r\n}\r\n\r\nexport default Detail","import React from \"react\";\r\nimport {HashRouter, Route, Switch, Redirect} from \"react-router-dom\";\r\nimport About from \"./pages/About\";\r\nimport Home from \"./pages/Home\";\r\nimport Navigation from \"./components/Navigation\";\r\nimport Detail from \"./components/Detail\";\r\nimport \"./styles/App.css\"\r\n\r\nconst App = () => {\r\n\r\n  const routes = [\r\n    {\r\n      path: \"/\",\r\n      exact: true,\r\n      component: Home\r\n    },\r\n    {\r\n      path: \"/about\",\r\n      exact: true,\r\n      component: About\r\n    },\r\n    {\r\n      path: \"/movie/:id\",\r\n      exact: true,\r\n      component: Detail\r\n    }\r\n  ]\r\n\r\n  return(\r\n    <HashRouter>\r\n      <Navigation />\r\n      <Switch>\r\n        {routes.map(route => \r\n          <Route \r\n            component={route.component} \r\n            path={route.path} \r\n            exact={route.exact} \r\n            key={route.path} \r\n          />\r\n        )}\r\n        <Redirect to=\"/\" />\r\n      </Switch>\r\n    </HashRouter>\r\n  )\r\n}\r\n\r\nexport default App;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from \"./App\"\r\n\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n\r\n"],"sourceRoot":""}