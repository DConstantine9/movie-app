{"version":3,"sources":["pages/About.js","components/Movie.js","components/Pagination.js","pages/Home.js","components/Navigation.js","components/Detail.js","App.js","index.js"],"names":["About","className","Movie","id","year","title","summary","poster","genres","to","pathname","state","onError","e","target","src","alt","map","genre","i","slice","Pagination","moviesPerPage","totalMovies","currentPage","paginate","pageNumbers","Math","ceil","push","p","onClick","Home","React","useState","isLoading","setIsLoading","movies","setMovies","setCurrentPage","a","axios","get","data","useEffect","fetchData","indexOfLastMovie","indexOfFirstMovie","currentMovies","movie","medium_cover_image","length","pageNumber","Navigation","fromLocation","Detail","props","locationState","location","undefined","history","App","routes","path","exact","component","route","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"yUASeA,EAND,WACZ,OACE,qBAAKC,UAAU,mBAAf,wS,kDCiDWC,G,MAjDD,SAAC,GAAgD,IAA/CC,EAA8C,EAA9CA,GAAIC,EAA0C,EAA1CA,KAAMC,EAAoC,EAApCA,MAAOC,EAA6B,EAA7BA,QAASC,EAAoB,EAApBA,OAAQC,EAAY,EAAZA,OAMhD,OACE,qBAAKP,UAAU,QAAf,SACE,eAAC,IAAD,CAAMQ,GAAI,CACRC,SAAS,UAAD,OAAYP,GACpBQ,MAAO,CACLR,KACAC,OACAC,QACAC,UACAC,SACAC,WARJ,UAYE,qBAAKI,QAlBX,SAA2BC,GACzBA,EAAEC,OAAOC,IAAM,yBAiBsBA,IAAKR,EAAQS,IAAKX,EAAOA,MAAOA,IACjE,sBAAMJ,UAAU,gBAAhB,UACE,oBAAIA,UAAU,eAAd,SAA8BI,IAC9B,oBAAIJ,UAAU,cAAd,SAA6BG,IAC7B,oBAAIH,UAAU,SAAd,SACGO,EAAOS,KAAI,SAACC,EAAOC,GAClB,OACE,oBAAYlB,UAAU,gBAAtB,SACGiB,GADMC,QAMf,oBAAGlB,UAAU,iBAAb,UAA+BK,EAAQc,MAAM,EAAG,KAAhD,mBCLKC,G,MA9BI,SAAC,GAGlB,IAH2E,IAAxDC,EAAuD,EAAvDA,cAAeC,EAAwC,EAAxCA,YAAaC,EAA2B,EAA3BA,YAAaC,EAAc,EAAdA,SACtDC,EAAc,GAEXP,EAAI,EAAGA,GAAIQ,KAAKC,KAAKL,EAAcD,GAAgBH,IAC1DO,EAAYG,KAAKV,GAGnB,OACE,8BACE,8BACE,oBAAIlB,UAAU,aAAd,SACGyB,EAAYT,KAAI,SAAAa,GAAC,OAChB,oBAAY7B,UAAU,aAAtB,SACE,wBACE8B,QAAS,kBAAMN,EAASK,IACxB7B,UACEuB,IAAgBM,EACd,eAAiB,aAJvB,SAOGA,KARIA,cCqDNE,G,MA9DF,WAEX,MAAkCC,IAAMC,UAAS,GAAjD,mBAAOC,EAAP,KAAkBC,EAAlB,KACA,EAA4BH,IAAMC,SAAS,IAA3C,mBAAOG,EAAP,KAAeC,EAAf,KACA,EAAsCL,IAAMC,SAAS,GAArD,mBAAOV,EAAP,KAAoBe,EAApB,KACA,EAAwBN,IAAMC,SAAS,IAAhCZ,EAAP,oBALiB,4CAOjB,8BAAAkB,EAAA,sEAKYC,IAAMC,IAAI,0DALtB,gBAGcL,EAHd,EAEIM,KACGA,KAAON,OAGZD,GAAa,GACbE,EAAUD,GAPZ,4CAPiB,sBAiBjBJ,IAAMW,WAAU,YAjBC,mCAkBfC,KACC,IAEH,IAAMC,EAAmBtB,EAAcF,EACjCyB,EAAoBD,EAAmBxB,EACvC0B,EAAgBX,EAAOjB,MAAM2B,EAAmBD,GAKtD,OACE,0BAAS7C,UAAU,YAAnB,UACGkC,EACC,qBAAKlC,UAAU,SAAf,SACE,sBAAMA,UAAU,cAAhB,mEAGF,qBAAKA,UAAU,SAAf,SACG+C,EAAc/B,KAAI,SAAAgC,GACjB,OACE,cAAC,EAAD,CAEE9C,GAAI8C,EAAM9C,GACVC,KAAM6C,EAAM7C,KACZC,MAAO4C,EAAM5C,MACbC,QAAS2C,EAAM3C,QACfC,OAAQ0C,EAAMC,mBACd1C,OAAQyC,EAAMzC,QANTyC,EAAM9C,SAarB,cAAC,EAAD,CACEmB,cAAeA,EACfC,YAAac,EAAOc,OACpB1B,SA9BW,SAAA2B,GAAU,OAAIb,EAAea,IA+BxC5B,YAAaA,SCxCN6B,G,MAlBI,WACjB,OACE,sBAAKpD,UAAU,MAAf,UACE,cAAC,IAAD,CAAMQ,GAAG,IAAT,wDACA,cAAC,IAAD,CACEA,GAAI,CACFC,SAAS,SACTC,MAAO,CACL2C,cAAc,IAJpB,oECoCSC,G,MAzCA,SAACC,GAEd,IAAIC,EAAgBD,EAAME,SAAS/C,MAYnC,OAVAsB,IAAMW,WAAU,gBACQe,IAAlBF,GACFD,EAAMI,QAAQ/B,KAAK,QAQnB4B,EAEE,sBAAKxD,UAAU,gBAAf,UACE,qBAAKA,UAAU,iBAAf,SACE,qBAAKW,QARf,SAA2BC,GACzBA,EAAEC,OAAOC,IAAM,yBAO0BA,IAAK0C,EAAclD,OAAQS,IAAKyC,EAAcpD,MAAOA,MAAOoD,EAAcpD,UAE7G,sBAAKJ,UAAU,eAAf,UACE,oBAAIA,UAAU,gBAAd,SAA+BwD,EAAcpD,QAC7C,oBAAIJ,UAAU,eAAd,SAA8BwD,EAAcrD,OAC5C,oBAAIH,UAAU,iBAAd,SACGwD,EAAcjD,OAAOS,KAAI,SAACC,EAAOC,GAChC,OACE,oBAAYlB,UAAU,wBAAtB,SACGiB,GADMC,QAMf,mBAAGlB,UAAU,iBAAb,SAA+BwD,EAAcnD,gBAK9C,OCMIuD,G,MAtCH,WAEV,IAAMC,EAAS,CACb,CACEC,KAAM,IACNC,OAAO,EACPC,UAAWjC,GAEb,CACE+B,KAAM,SACNC,OAAO,EACPC,UAAWjE,GAEb,CACE+D,KAAM,aACNC,OAAO,EACPC,UAAWV,IAIf,OACE,eAAC,IAAD,WACE,cAAC,EAAD,IACA,eAAC,IAAD,WACGO,EAAO7C,KAAI,SAAAiD,GAAK,OACf,cAAC,IAAD,CACED,UAAWC,EAAMD,UACjBF,KAAMG,EAAMH,KACZC,MAAOE,EAAMF,OACRE,EAAMH,SAGf,cAAC,IAAD,CAAUtD,GAAG,cCnCrB0D,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.944a9e74.chunk.js","sourcesContent":["import React from \"react\";\r\nimport \"../styles/About.css\"\r\n\r\nconst About = () => {\r\n  return (\r\n    <div className=\"about__container\">О проекте: я сделал этот проект, потому что люблю фильмы</div>\r\n  )\r\n}\r\n\r\nexport default About;","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport {Link} from \"react-router-dom\";\r\nimport \"../styles//Movie.css\"\r\n\r\nconst Movie = ({id, year, title, summary, poster, genres}) => {\r\n\r\n  function addDefaultPicture(e) {\r\n    e.target.src = \"../default_poster.img\"\r\n  }\r\n\r\n  return (\r\n    <div className=\"movie\">\r\n      <Link to={{\r\n        pathname: `/movie/${id}`,\r\n        state: {\r\n          id,\r\n          year,\r\n          title,\r\n          summary,\r\n          poster, \r\n          genres\r\n        }\r\n      }}>\r\n      \r\n        <img onError={addDefaultPicture} src={poster} alt={title} title={title} />\r\n        <div  className=\"movie__column\">\r\n          <h3 className=\"movie__title\">{title}</h3>\r\n          <h5 className=\"movie__year\">{year}</h5>\r\n          <ul className=\"genres\">\r\n            {genres.map((genre, i) => {\r\n              return (\r\n                <li key={i} className=\"genres__genre\">\r\n                  {genre}\r\n                </li>\r\n              )\r\n            })}\r\n          </ul>\r\n          <p className=\"movie__summary\">{summary.slice(0, 140)}...</p>\r\n        </div>     \r\n      </Link>\r\n    </div>\r\n  )\r\n}\r\n\r\nMovie.propTypes = {\r\n  id: PropTypes.number.isRequired,\r\n  year: PropTypes.number.isRequired,\r\n  title: PropTypes.string.isRequired,\r\n  summary: PropTypes.string.isRequired,\r\n  poster: PropTypes.string.isRequired,\r\n  genres: PropTypes.arrayOf(PropTypes.string).isRequired\r\n}\r\n\r\nexport default Movie","import React from 'react'\r\nimport \"../styles/Pagination.css\"\r\n\r\nconst Pagination = ({moviesPerPage, totalMovies, currentPage, paginate}) => {\r\n  const pageNumbers = []\r\n\r\n  for (let i = 1; i <=Math.ceil(totalMovies / moviesPerPage); i++) {\r\n    pageNumbers.push(i)\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <nav>\r\n        <ul className='pagination'>\r\n          {pageNumbers.map(p => (\r\n            <li key={p} className='page__item'>\r\n              <button \r\n                onClick={() => paginate(p)} \r\n                className={\r\n                  currentPage === p \r\n                  ? 'page__active' : 'page__link'\r\n                } \r\n              >\r\n                {p}\r\n              </button>\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      </nav>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Pagination","import React from \"react\";\r\nimport axios from \"axios\";\r\nimport Movie from \"../components/Movie\";\r\nimport Pagianation from \"../components/Pagination\"\r\nimport \"../styles//Home.css\";\r\n\r\nconst Home = () => {\r\n  \r\n  const [isLoading, setIsLoading] = React.useState(true)\r\n  const [movies, setMovies] = React.useState([])\r\n  const [currentPage, setCurrentPage] = React.useState(1);\r\n  const [moviesPerPage] = React.useState(10);\r\n\r\n  async function fetchData() {\r\n    const {\r\n      data:\r\n        {data: {movies}\r\n      }\r\n    } = await axios.get(\"https://yts.mx/api/v2/list_movies.json?sort_by=raiting\")\r\n    setIsLoading(false)\r\n    setMovies(movies)\r\n  }\r\n    \r\n  React.useEffect(() => {\r\n    fetchData()\r\n  }, [])\r\n\r\n  const indexOfLastMovie = currentPage * moviesPerPage;\r\n  const indexOfFirstMovie = indexOfLastMovie - moviesPerPage;\r\n  const currentMovies = movies.slice(indexOfFirstMovie, indexOfLastMovie);\r\n\r\n  const paginate = pageNumber => setCurrentPage(pageNumber);\r\n\r\n\r\n  return (\r\n    <section className=\"container\">\r\n      {isLoading ? (\r\n        <div className=\"loader\">\r\n          <span className=\"loder__text\">Загрузка...</span>\r\n        </div>\r\n        ) : (\r\n        <div className=\"movies\">\r\n          {currentMovies.map(movie => {\r\n            return (\r\n              <Movie \r\n                key={movie.id}\r\n                id={movie.id} \r\n                year={movie.year} \r\n                title={movie.title} \r\n                summary={movie.summary} \r\n                poster={movie.medium_cover_image} \r\n                genres={movie.genres}\r\n              />\r\n            )\r\n          })}\r\n          </div>\r\n        )\r\n      }\r\n      <Pagianation \r\n        moviesPerPage={moviesPerPage}\r\n        totalMovies={movies.length}\r\n        paginate={paginate}\r\n        currentPage={currentPage}\r\n      />\r\n    </section>\r\n  )\r\n}\r\n\r\nexport default Home;\r\n","import React from \"react\";\r\nimport {Link} from \"react-router-dom\";\r\nimport \"../styles//Navigation.css\"\r\n\r\nconst Navigation = () => {\r\n  return (\r\n    <div className=\"nav\">\r\n      <Link to=\"/\">Главная</Link>\r\n      <Link \r\n        to={{\r\n          pathname:\"/about\",\r\n          state: {\r\n            fromLocation: true,\r\n          },\r\n        }}\r\n      >\r\n        О проекте\r\n      </Link>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Navigation","import React from \"react\";\r\nimport \"../styles/Detail.css\";\r\n\r\nconst Detail = (props) => {\r\n\r\n  let locationState = props.location.state\r\n\r\n  React.useEffect(() => {\r\n    if (locationState === undefined) {\r\n      props.history.push('/')\r\n    }\r\n  })\r\n\r\n  function addDefaultPicture(e) {\r\n    e.target.src = \"../default_poster.img\"\r\n  }\r\n \r\n  if (locationState) {\r\n      return (\r\n        <div className=\"detail__block\">\r\n          <div className=\"detail__poster\"> \r\n            <img onError={addDefaultPicture} src={locationState.poster} alt={locationState.title} title={locationState.title} />\r\n          </div>\r\n          <div className=\"detail__info\">\r\n            <h1 className=\"detail__title\">{locationState.title}</h1>\r\n            <h4 className=\"detail__year\">{locationState.year}</h4>\r\n            <ul className=\"detail__genres\">\r\n              {locationState.genres.map((genre, i) => {\r\n                return (\r\n                  <li key={i} className=\"detail__genres__genre\">\r\n                    {genre}\r\n                  </li>\r\n                )\r\n              })}\r\n            </ul>\r\n            <p className=\"movie__summary\">{locationState.summary}</p>\r\n          </div>\r\n        </div>\r\n      )\r\n  } else {\r\n    return null\r\n  }\r\n}\r\n\r\nexport default Detail","import React from \"react\";\r\nimport {HashRouter, Route, Switch, Redirect} from \"react-router-dom\";\r\nimport About from \"./pages/About\";\r\nimport Home from \"./pages/Home\";\r\nimport Navigation from \"./components/Navigation\";\r\nimport Detail from \"./components/Detail\";\r\nimport \"./styles/App.css\"\r\n\r\nconst App = () => {\r\n\r\n  const routes = [\r\n    {\r\n      path: \"/\",\r\n      exact: true,\r\n      component: Home\r\n    },\r\n    {\r\n      path: \"/about\",\r\n      exact: true,\r\n      component: About\r\n    },\r\n    {\r\n      path: \"/movie/:id\",\r\n      exact: true,\r\n      component: Detail\r\n    }\r\n  ]\r\n\r\n  return(\r\n    <HashRouter>\r\n      <Navigation />\r\n      <Switch>\r\n        {routes.map(route => \r\n          <Route \r\n            component={route.component} \r\n            path={route.path} \r\n            exact={route.exact} \r\n            key={route.path} \r\n          />\r\n        )}\r\n        <Redirect to=\"/\" />\r\n      </Switch>\r\n    </HashRouter>\r\n  )\r\n}\r\n\r\nexport default App;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from \"./App\"\r\n\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n\r\n"],"sourceRoot":""}