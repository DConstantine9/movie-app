{"version":3,"sources":["pages/About.js","components/Movie.js","components/Pagination.js","components/MySelect.js","pages/Home.js","components/Navigation.js","components/Detail.js","App.js","index.js"],"names":["About","className","Movie","id","year","title","summary","poster","genres","to","pathname","state","onError","e","target","src","alt","map","genre","i","slice","Pagination","moviesPerPage","totalMovies","currentPage","paginate","pageNumbers","Math","ceil","push","p","onClick","MySelect","options","defaultValue","value","onChange","console","log","disabled","option","name","Home","React","useState","isLoading","setIsLoading","movies","setMovies","setCurrentPage","selectedSort","setSelectedSort","a","axios","get","data","useEffect","fetchData","indexOfLastMovie","indexOfFirstMovie","currentMovies","sort","b","localeCompare","movie","medium_cover_image","length","pageNumber","Navigation","fromLocation","Detail","props","locationState","location","undefined","history","App","routes","path","exact","component","route","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"8VASeA,EAND,WACZ,OACE,qBAAKC,UAAU,mBAAf,wS,0DCiDWC,G,MAjDD,SAAC,GAAgD,IAA/CC,EAA8C,EAA9CA,GAAIC,EAA0C,EAA1CA,KAAMC,EAAoC,EAApCA,MAAOC,EAA6B,EAA7BA,QAASC,EAAoB,EAApBA,OAAQC,EAAY,EAAZA,OAMhD,OACE,qBAAKP,UAAU,QAAf,SACE,eAAC,IAAD,CAAMQ,GAAI,CACRC,SAAS,UAAD,OAAYP,GACpBQ,MAAO,CACLR,KACAC,OACAC,QACAC,UACAC,SACAC,WARJ,UAYE,qBAAKI,QAlBX,SAA2BC,GACzBA,EAAEC,OAAOC,IAAM,yBAiBsBA,IAAKR,EAAQS,IAAKX,EAAOA,MAAOA,IACjE,sBAAMJ,UAAU,gBAAhB,UACE,oBAAIA,UAAU,eAAd,SAA8BI,IAC9B,oBAAIJ,UAAU,cAAd,SAA6BG,IAC7B,oBAAIH,UAAU,SAAd,SACGO,EAAOS,KAAI,SAACC,EAAOC,GAClB,OACE,oBAAYlB,UAAU,gBAAtB,SACGiB,GADMC,QAMf,oBAAGlB,UAAU,iBAAb,UAA+BK,EAAQc,MAAM,EAAG,KAAhD,mBCLKC,G,MA9BI,SAAC,GAGlB,IAH2E,IAAxDC,EAAuD,EAAvDA,cAAeC,EAAwC,EAAxCA,YAAaC,EAA2B,EAA3BA,YAAaC,EAAc,EAAdA,SACtDC,EAAc,GAEXP,EAAI,EAAGA,GAAIQ,KAAKC,KAAKL,EAAcD,GAAgBH,IAC1DO,EAAYG,KAAKV,GAGnB,OACE,8BACE,8BACE,oBAAIlB,UAAU,aAAd,SACGyB,EAAYT,KAAI,SAAAa,GAAC,OAChB,oBAAY7B,UAAU,aAAtB,SACE,wBACE8B,QAAS,kBAAMN,EAASK,IACxB7B,UACEuB,IAAgBM,EACd,eAAiB,aAJvB,SAOGA,KARIA,cCONE,G,YAnBE,SAAC,GAA8C,IAA7CC,EAA4C,EAA5CA,QAASC,EAAmC,EAAnCA,aAAcC,EAAqB,EAArBA,MAAOC,EAAc,EAAdA,SAE/C,OADAC,QAAQC,IAAIL,GAEV,yBACEhC,UAAU,WACVkC,MAAOA,EACPC,SAAU,SAAAvB,GAAC,OAAIuB,EAASvB,EAAEC,OAAOqB,QAHnC,UAKE,wBAAQI,UAAQ,EAACJ,MAAM,GAAvB,SAA2BD,IAC1BD,EAAQhB,KAAI,SAAAuB,GACX,OACA,wBAA2BL,MAAOK,EAAOL,MAAzC,SACGK,EAAOC,MADGD,EAAOL,eCyEbO,EAhFF,WAEX,MAAkCC,IAAMC,UAAS,GAAjD,mBAAOC,EAAP,KAAkBC,EAAlB,KACA,EAA4BH,IAAMC,SAAS,IAA3C,mBAAOG,EAAP,KAAeC,EAAf,KACA,EAAsCL,IAAMC,SAAS,GAArD,mBAAOpB,EAAP,KAAoByB,EAApB,KACA,EAAwBN,IAAMC,SAAS,IAAhCtB,EAAP,oBACA,EAAwCqB,IAAMC,SAAS,IAAvD,mBAAOM,EAAP,KAAqBC,EAArB,KANiB,4CAQjB,8BAAAC,EAAA,sEAKYC,IAAMC,IAAI,0CALtB,gBAGcP,EAHd,EAEIQ,KACGA,KAAOR,OAGZD,GAAa,GACbE,EAAUD,GACVV,QAAQC,IAAIS,GARd,4CARiB,sBAmBjBJ,IAAMa,WAAU,YAnBC,mCAoBfC,KACC,IAEH,IAAMC,EAAmBlC,EAAcF,EACjCqC,EAAoBD,EAAmBpC,EACvCsC,EAAgBb,EAAO3B,MAAMuC,EAAmBD,GAUtD,OACE,0BAASzD,UAAU,YAAnB,UACG4C,EACC,qBAAK5C,UAAU,SAAf,SACE,sBAAMA,UAAU,cAAhB,mEAGA,sBAAKA,UAAU,aAAf,UACE,cAAC,EAAD,CACEkC,MAAOe,EACPd,SAhBO,SAACyB,GAClBV,EAAgBU,GAChBb,EAAU,YAAID,GAAQc,MAAK,SAACT,EAAGU,GAAJ,OAAUV,EAAES,GAAME,cAAcD,EAAED,SAenD3B,aAAa,+DACbD,QAAS,CACP,CAACE,MAAO,QAASM,KAAM,iEACvB,CAACN,MAAO,UAAWM,KAAM,oEAG7B,qBAAKxC,UAAU,SAAf,SACG2D,EAAc3C,KAAI,SAAA+C,GACjB,OACE,cAAC,EAAD,CAEE7D,GAAI6D,EAAM7D,GACVC,KAAM4D,EAAM5D,KACZC,MAAO2D,EAAM3D,MACbC,QAAS0D,EAAM1D,QACfC,OAAQyD,EAAMC,mBACdzD,OAAQwD,EAAMxD,QANTwD,EAAM7D,YAczB,cAAC,EAAD,CACEmB,cAAeA,EACfC,YAAawB,EAAOmB,OACpBzC,SA9CW,SAAA0C,GAAU,OAAIlB,EAAekB,IA+CxC3C,YAAaA,QC3DN4C,G,MAlBI,WACjB,OACE,sBAAKnE,UAAU,MAAf,UACE,cAAC,IAAD,CAAMQ,GAAG,IAAT,wDACA,cAAC,IAAD,CACEA,GAAI,CACFC,SAAS,SACTC,MAAO,CACL0D,cAAc,IAJpB,oECoCSC,G,MAzCA,SAACC,GAEd,IAAIC,EAAgBD,EAAME,SAAS9D,MAYnC,OAVAgC,IAAMa,WAAU,gBACQkB,IAAlBF,GACFD,EAAMI,QAAQ9C,KAAK,QAQnB2C,EAEE,sBAAKvE,UAAU,gBAAf,UACE,qBAAKA,UAAU,iBAAf,SACE,qBAAKW,QARf,SAA2BC,GACzBA,EAAEC,OAAOC,IAAM,yBAO0BA,IAAKyD,EAAcjE,OAAQS,IAAKwD,EAAcnE,MAAOA,MAAOmE,EAAcnE,UAE7G,sBAAKJ,UAAU,eAAf,UACE,oBAAIA,UAAU,gBAAd,SAA+BuE,EAAcnE,QAC7C,oBAAIJ,UAAU,eAAd,SAA8BuE,EAAcpE,OAC5C,oBAAIH,UAAU,iBAAd,SACGuE,EAAchE,OAAOS,KAAI,SAACC,EAAOC,GAChC,OACE,oBAAYlB,UAAU,wBAAtB,SACGiB,GADMC,QAMf,mBAAGlB,UAAU,iBAAb,SAA+BuE,EAAclE,gBAK9C,OCMIsE,G,MAtCH,WAEV,IAAMC,EAAS,CACb,CACEC,KAAM,IACNC,OAAO,EACPC,UAAWtC,GAEb,CACEoC,KAAM,SACNC,OAAO,EACPC,UAAWhF,GAEb,CACE8E,KAAM,aACNC,OAAO,EACPC,UAAWV,IAIf,OACE,eAAC,IAAD,WACE,cAAC,EAAD,IACA,eAAC,IAAD,WACGO,EAAO5D,KAAI,SAAAgE,GAAK,OACf,cAAC,IAAD,CACED,UAAWC,EAAMD,UACjBF,KAAMG,EAAMH,KACZC,MAAOE,EAAMF,OACRE,EAAMH,SAGf,cAAC,IAAD,CAAUrE,GAAG,cCnCrByE,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.12e81ee6.chunk.js","sourcesContent":["import React from \"react\";\r\nimport \"../styles/About.css\"\r\n\r\nconst About = () => {\r\n  return (\r\n    <div className=\"about__container\">О проекте: я сделал этот проект, потому что люблю фильмы</div>\r\n  )\r\n}\r\n\r\nexport default About;","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport {Link} from \"react-router-dom\";\r\nimport \"../styles//Movie.css\"\r\n\r\nconst Movie = ({id, year, title, summary, poster, genres}) => {\r\n\r\n  function addDefaultPicture(e) {\r\n    e.target.src = \"../default_poster.img\"\r\n  }\r\n\r\n  return (\r\n    <div className=\"movie\">\r\n      <Link to={{\r\n        pathname: `/movie/${id}`,\r\n        state: {\r\n          id,\r\n          year,\r\n          title,\r\n          summary,\r\n          poster, \r\n          genres\r\n        }\r\n      }}>\r\n      \r\n        <img onError={addDefaultPicture} src={poster} alt={title} title={title} />\r\n        <div  className=\"movie__column\">\r\n          <h3 className=\"movie__title\">{title}</h3>\r\n          <h5 className=\"movie__year\">{year}</h5>\r\n          <ul className=\"genres\">\r\n            {genres.map((genre, i) => {\r\n              return (\r\n                <li key={i} className=\"genres__genre\">\r\n                  {genre}\r\n                </li>\r\n              )\r\n            })}\r\n          </ul>\r\n          <p className=\"movie__summary\">{summary.slice(0, 140)}...</p>\r\n        </div>     \r\n      </Link>\r\n    </div>\r\n  )\r\n}\r\n\r\nMovie.propTypes = {\r\n  id: PropTypes.number.isRequired,\r\n  year: PropTypes.number.isRequired,\r\n  title: PropTypes.string.isRequired,\r\n  summary: PropTypes.string.isRequired,\r\n  poster: PropTypes.string.isRequired,\r\n  genres: PropTypes.arrayOf(PropTypes.string).isRequired\r\n}\r\n\r\nexport default Movie","import React from 'react'\r\nimport \"../styles/Pagination.css\"\r\n\r\nconst Pagination = ({moviesPerPage, totalMovies, currentPage, paginate}) => {\r\n  const pageNumbers = []\r\n\r\n  for (let i = 1; i <=Math.ceil(totalMovies / moviesPerPage); i++) {\r\n    pageNumbers.push(i)\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <nav>\r\n        <ul className='pagination'>\r\n          {pageNumbers.map(p => (\r\n            <li key={p} className='page__item'>\r\n              <button \r\n                onClick={() => paginate(p)} \r\n                className={\r\n                  currentPage === p \r\n                  ? 'page__active' : 'page__link'\r\n                } \r\n              >\r\n                {p}\r\n              </button>\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      </nav>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Pagination","import React from \"react\";\r\nimport \"../styles//MySelect.css\"\r\n\r\nconst MySelect = ({options, defaultValue, value, onChange}) => {\r\n  console.log(options)\r\n  return (\r\n    <select \r\n      className=\"mySelect\"\r\n      value={value}\r\n      onChange={e => onChange(e.target.value)}\r\n    >\r\n      <option disabled value=\"\">{defaultValue}</option>\r\n      {options.map(option => {\r\n        return (\r\n        <option key={option.value} value={option.value}>\r\n          {option.name}\r\n        </option>)\r\n      })}\r\n    </select>\r\n  )\r\n}\r\n\r\nexport default MySelect;","import React from \"react\";\r\nimport axios from \"axios\";\r\nimport Movie from \"../components/Movie\";\r\nimport Pagianation from \"../components/Pagination\"\r\nimport \"../styles//Home.css\";\r\nimport MySelect from \"../components/MySelect\";\r\n\r\nconst Home = () => {\r\n  \r\n  const [isLoading, setIsLoading] = React.useState(true)\r\n  const [movies, setMovies] = React.useState([])\r\n  const [currentPage, setCurrentPage] = React.useState(1);\r\n  const [moviesPerPage] = React.useState(10);\r\n  const [selectedSort, setSelectedSort] = React.useState(\"\")\r\n\r\n  async function fetchData() {\r\n    const {\r\n      data:\r\n        {data: {movies}\r\n      }\r\n    } = await axios.get(\"https://yts.mx/api/v2/list_movies.json\")\r\n    setIsLoading(false)\r\n    setMovies(movies)\r\n    console.log(movies)\r\n  }\r\n    \r\n  React.useEffect(() => {\r\n    fetchData()\r\n  }, [])\r\n\r\n  const indexOfLastMovie = currentPage * moviesPerPage;\r\n  const indexOfFirstMovie = indexOfLastMovie - moviesPerPage;\r\n  const currentMovies = movies.slice(indexOfFirstMovie, indexOfLastMovie);\r\n\r\n  const paginate = pageNumber => setCurrentPage(pageNumber);\r\n  \r\n  const sortMovies = (sort) => {\r\n    setSelectedSort(sort)\r\n    setMovies([...movies].sort((a, b) => a[sort].localeCompare(b[sort])))\r\n  }\r\n\r\n\r\n  return (\r\n    <section className=\"container\">\r\n      {isLoading ? (\r\n        <div className=\"loader\">\r\n          <span className=\"loder__text\">Загрузка...</span>\r\n        </div>\r\n        ) : (\r\n          <div className=\"home__body\">\r\n            <MySelect \r\n              value={selectedSort}\r\n              onChange={sortMovies}\r\n              defaultValue=\"сортировка\"\r\n              options={[\r\n                {value: \"title\", name: \"По названию\"},\r\n                {value: \"summary\", name: \"По описанию\"}\r\n              ]}\r\n            />  \r\n            <div className=\"movies\">\r\n              {currentMovies.map(movie => {\r\n                return (\r\n                  <Movie \r\n                    key={movie.id}\r\n                    id={movie.id} \r\n                    year={movie.year} \r\n                    title={movie.title} \r\n                    summary={movie.summary} \r\n                    poster={movie.medium_cover_image} \r\n                    genres={movie.genres}\r\n                  />\r\n                )\r\n              })}\r\n            </div>\r\n          </div> \r\n        )\r\n      }\r\n      <Pagianation \r\n        moviesPerPage={moviesPerPage}\r\n        totalMovies={movies.length}\r\n        paginate={paginate}\r\n        currentPage={currentPage}\r\n      />\r\n    </section>\r\n  )\r\n}\r\n\r\nexport default Home;\r\n","import React from \"react\";\r\nimport {Link} from \"react-router-dom\";\r\nimport \"../styles//Navigation.css\"\r\n\r\nconst Navigation = () => {\r\n  return (\r\n    <div className=\"nav\">\r\n      <Link to=\"/\">Главная</Link>\r\n      <Link \r\n        to={{\r\n          pathname:\"/about\",\r\n          state: {\r\n            fromLocation: true,\r\n          },\r\n        }}\r\n      >\r\n        О проекте\r\n      </Link>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Navigation","import React from \"react\";\r\nimport \"../styles/Detail.css\";\r\n\r\nconst Detail = (props) => {\r\n\r\n  let locationState = props.location.state\r\n\r\n  React.useEffect(() => {\r\n    if (locationState === undefined) {\r\n      props.history.push('/')\r\n    }\r\n  })\r\n\r\n  function addDefaultPicture(e) {\r\n    e.target.src = \"../default_poster.img\"\r\n  }\r\n \r\n  if (locationState) {\r\n      return (\r\n        <div className=\"detail__block\">\r\n          <div className=\"detail__poster\"> \r\n            <img onError={addDefaultPicture} src={locationState.poster} alt={locationState.title} title={locationState.title} />\r\n          </div>\r\n          <div className=\"detail__info\">\r\n            <h1 className=\"detail__title\">{locationState.title}</h1>\r\n            <h4 className=\"detail__year\">{locationState.year}</h4>\r\n            <ul className=\"detail__genres\">\r\n              {locationState.genres.map((genre, i) => {\r\n                return (\r\n                  <li key={i} className=\"detail__genres__genre\">\r\n                    {genre}\r\n                  </li>\r\n                )\r\n              })}\r\n            </ul>\r\n            <p className=\"movie__summary\">{locationState.summary}</p>\r\n          </div>\r\n        </div>\r\n      )\r\n  } else {\r\n    return null\r\n  }\r\n}\r\n\r\nexport default Detail","import React from \"react\";\r\nimport {HashRouter, Route, Switch, Redirect} from \"react-router-dom\";\r\nimport About from \"./pages/About\";\r\nimport Home from \"./pages/Home\";\r\nimport Navigation from \"./components/Navigation\";\r\nimport Detail from \"./components/Detail\";\r\nimport \"./styles/App.css\"\r\n\r\nconst App = () => {\r\n\r\n  const routes = [\r\n    {\r\n      path: \"/\",\r\n      exact: true,\r\n      component: Home\r\n    },\r\n    {\r\n      path: \"/about\",\r\n      exact: true,\r\n      component: About\r\n    },\r\n    {\r\n      path: \"/movie/:id\",\r\n      exact: true,\r\n      component: Detail\r\n    }\r\n  ]\r\n\r\n  return(\r\n    <HashRouter>\r\n      <Navigation />\r\n      <Switch>\r\n        {routes.map(route => \r\n          <Route \r\n            component={route.component} \r\n            path={route.path} \r\n            exact={route.exact} \r\n            key={route.path} \r\n          />\r\n        )}\r\n        <Redirect to=\"/\" />\r\n      </Switch>\r\n    </HashRouter>\r\n  )\r\n}\r\n\r\nexport default App;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from \"./App\"\r\n\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n\r\n"],"sourceRoot":""}